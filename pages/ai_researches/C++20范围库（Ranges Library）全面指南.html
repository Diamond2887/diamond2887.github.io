<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C++20èŒƒå›´åº“ï¼ˆRanges Libraryï¼‰å…¨é¢æŒ‡å—</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
            --code-bg: #f8f9fa;
            --border-color: #ddd;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f7fa;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .meta-info {
            margin-top: 1rem;
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        h2 {
            color: var(--primary-color);
            border-bottom: 3px solid var(--secondary-color);
            padding-bottom: 0.5rem;
            margin: 2rem 0 1rem 0;
        }
        
        h3 {
            color: var(--secondary-color);
            margin: 1.5rem 0 1rem 0;
        }
        
        h4 {
            color: #555;
            margin: 1.2rem 0 0.8rem 0;
        }
        
        section {
            background-color: white;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
        }
        
        .section-title {
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
        }
        
        .toggle-icon {
            font-size: 1.5rem;
            transition: transform 0.3s;
        }
        
        .section-content {
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
        }
        
        .comparison-table th {
            background-color: var(--primary-color);
            color: white;
            padding: 12px;
            text-align: left;
        }
        
        .comparison-table td {
            padding: 12px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .comparison-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .concept-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
        }
        
        .concept-table th {
            background-color: var(--secondary-color);
            color: white;
            padding: 10px;
            text-align: left;
        }
        
        .concept-table td {
            padding: 10px;
            border: 1px solid var(--border-color);
        }
        
        .code-block {
            background-color: var(--code-bg);
            border-left: 4px solid var(--secondary-color);
            padding: 1rem;
            margin: 1.5rem 0;
            font-family: 'Consolas', 'Monaco', monospace;
            white-space: pre-wrap;
            overflow-x: auto;
            border-radius: 0 5px 5px 0;
        }
        
        .note {
            background-color: #e8f4fc;
            border-left: 4px solid var(--secondary-color);
            padding: 1rem;
            margin: 1.5rem 0;
            border-radius: 0 5px 5px 0;
        }
        
        .warning {
            background-color: #fdf2e9;
            border-left: 4px solid var(--accent-color);
            padding: 1rem;
            margin: 1.5rem 0;
            border-radius: 0 5px 5px 0;
        }
        
        .benefits {
            background-color: #e8f6f3;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }
        
        .benefits h4 {
            color: var(--primary-color);
            margin-top: 0;
        }
        
        .benefits ul {
            padding-left: 1.5rem;
        }
        
        .benefits li {
            margin-bottom: 0.5rem;
        }
        
        .case-study {
            border: 2px solid var(--border-color);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }
        
        .case-study h4 {
            color: var(--primary-color);
            margin-top: 0;
            display: flex;
            align-items: center;
        }
        
        .case-study h4:before {
            content: "ğŸ“Š";
            margin-right: 10px;
            font-size: 1.2rem;
        }
        
        .case-study .results {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin-top: 1rem;
        }
        
        .case-study .result-item {
            text-align: center;
            padding: 1rem;
            min-width: 150px;
        }
        
        .case-study .result-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--secondary-color);
        }
        
        .case-study .result-label {
            font-size: 0.9rem;
            color: #666;
        }
        
        footer {
            text-align: center;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border-color);
            color: #666;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .comparison-table, .concept-table {
                display: block;
                overflow-x: auto;
            }
            
            .case-study .results {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>C++20èŒƒå›´åº“ï¼ˆRanges Libraryï¼‰å…¨é¢æŒ‡å—</h1>
        <div class="subtitle">ä»åŸºç¡€ç†è®ºåˆ°å®é™…åº”ç”¨</div>
        <div class="meta-info">æ›´æ–°äºï¼š2026å¹´1æœˆ | ç¼–è¯‘å™¨æ”¯æŒï¼šGCC 12+, Clang 14+, MSVC 2019 Update 10+</div>
    </header>

    <section id="introduction">
        <div class="section-title" onclick="toggleSection('intro-content')">
            <h2>1. å¼•è¨€</h2>
            <span class="toggle-icon" id="intro-toggle">â–¼</span>
        </div>
        <div class="section-content" id="intro-content">
            <p>C++20å¼•å…¥çš„èŒƒå›´åº“ï¼ˆRanges Libraryï¼‰æ˜¯å¯¹C++æ ‡å‡†æ¨¡æ¿åº“ï¼ˆSTLï¼‰çš„èŒƒå¼çº§å‡çº§ï¼Œè¢«èª‰ä¸º"STL v2"ã€‚å®ƒå°†åºåˆ—æ“ä½œä»"è¿­ä»£å™¨å¯¹ï¼ˆiterator-pairï¼‰"æ¨¡å‹å‡çº§ä¸º"èŒƒå›´ï¼ˆrangeï¼‰"æ¨¡å‹ï¼Œè§£å†³äº†ä¼ ç»ŸSTLçš„æ ¸å¿ƒç—›ç‚¹ã€‚</p>
            
            <p>èŒƒå›´åº“çš„æ ¸å¿ƒåˆ›æ–°åœ¨äº<strong>å£°æ˜å¼ç¼–ç¨‹</strong>ä¸<strong>æƒ°æ€§æ±‚å€¼</strong>ï¼šå¼€å‘è€…é€šè¿‡ç®¡é“è¯­æ³•ç»„åˆè¿‡æ»¤ã€è½¬æ¢ç­‰æ“ä½œï¼Œè¡¨è¾¾"è¦ä»€ä¹ˆ"è€Œé"æ€ä¹ˆéå†"ï¼›æ‰€æœ‰æ“ä½œä»…åœ¨å®é™…è¿­ä»£æ—¶è§¦å‘è®¡ç®—ï¼Œå®Œå…¨æ¶ˆé™¤ä¸­é—´æ•°æ®æ‹·è´ã€‚</p>
            
            <div class="note">
                <p><strong>å…¼å®¹æ€§è¯´æ˜ï¼š</strong>æˆªè‡³2026å¹´1æœˆï¼Œä¸»æµç¼–è¯‘å™¨å·²å…¨é¢æ”¯æŒC++20èŒƒå›´åº“æ ¸å¿ƒç‰¹æ€§ï¼Œéƒ¨åˆ†é¡¹ç›®å¯é€šè¿‡range-v3åº“å®ç°å‘ä¸‹å…¼å®¹ã€‚</p>
            </div>
        </div>
    </section>

    <section id="basic-concepts">
        <div class="section-title" onclick="toggleSection('concepts-content')">
            <h2>2. åŸºç¡€æ¦‚å¿µä¸è®¾è®¡ç†å¿µ</h2>
            <span class="toggle-icon" id="concepts-toggle">â–¼</span>
        </div>
        <div class="section-content" id="concepts-content">
            <h3>2.1 ä»€ä¹ˆæ˜¯èŒƒå›´åº“ï¼Ÿ</h3>
            <p>åœ¨C++20æ ‡å‡†ä¸­ï¼Œ<strong>èŒƒå›´ï¼ˆRangeï¼‰</strong>è¢«å®šä¹‰ä¸ºï¼šä»»ä½•å¯é€šè¿‡<code>std::ranges::begin()</code>å’Œ<code>std::ranges::end()</code>è·å–è¿­ä»£å™¨ï¼ˆiteratorï¼‰å’Œå“¨ä½ï¼ˆsentinelï¼‰çš„ç±»å‹ã€‚è¿™ä¸€ç®€æ´å®šä¹‰å°†æ‰€æœ‰å¯è¿­ä»£åºåˆ—ç»Ÿä¸€ä¸ºå•ä¸€æŠ½è±¡ã€‚</p>
            
            <h4>èŒƒå›´åº“ä¸‰å¤§æ ¸å¿ƒç»„ä»¶ï¼š</h4>
            <ol>
                <li><strong>èŒƒå›´ï¼ˆRangesï¼‰</strong>ï¼šå¯è¿­ä»£åºåˆ—çš„ç»Ÿä¸€è¡¨ç¤º</li>
                <li><strong>è§†å›¾ï¼ˆViewsï¼‰</strong>ï¼šå¯¹èŒƒå›´çš„è½»é‡çº§ã€æƒ°æ€§æ±‚å€¼çš„è½¬æ¢å±‚</li>
                <li><strong>å—çº¦æŸç®—æ³•ï¼ˆConstrained Algorithmsï¼‰</strong>ï¼šç›´æ¥ä½œç”¨äºèŒƒå›´çš„æ³›å‹ç®—æ³•ï¼Œé€šè¿‡C++20æ¦‚å¿µç¡®ä¿ç±»å‹å®‰å…¨</li>
            </ol>
            
            <h4>ä¼ ç»ŸSTL vs C++20èŒƒå›´åº“å¯¹æ¯”ï¼š</h4>
            <table class="comparison-table">
                <tr>
                    <th>ç‰¹æ€§</th>
                    <th>ä¼ ç»ŸSTLè¿­ä»£å™¨å¯¹</th>
                    <th>C++20èŒƒå›´åº“</th>
                </tr>
                <tr>
                    <td><strong>è¯­æ³•ç®€æ´åº¦</strong></td>
                    <td>éœ€æ˜¾å¼ä¼ é€’begin()/end()ï¼Œä»£ç å†—ä½™</td>
                    <td>ç›´æ¥æ“ä½œèŒƒå›´ï¼Œæ¶ˆé™¤è¿­ä»£å™¨ä¼ é€’</td>
                </tr>
                <tr>
                    <td><strong>ç»„åˆæ€§</strong></td>
                    <td>å¤šæ­¥æ“ä½œéœ€ä¸­é—´å®¹å™¨ï¼Œå†…å­˜å¼€é”€å¤§</td>
                    <td>ç®¡é“è¯­æ³•ä¸²è”æ“ä½œï¼Œé›¶ä¸­é—´æ‹·è´</td>
                </tr>
                <tr>
                    <td><strong>å®‰å…¨æ€§</strong></td>
                    <td>éšå¼è¿­ä»£å™¨çº¦æŸï¼Œé”™è¯¯ä¿¡æ¯æ™¦æ¶©</td>
                    <td>æ˜¾å¼æ¦‚å¿µçº¦æŸï¼Œç¼–è¯‘æœŸæŠ¥é”™</td>
                </tr>
                <tr>
                    <td><strong>å¯è¯»æ€§</strong></td>
                    <td>å®ç°ç»†èŠ‚æ©ç›–ä¸šåŠ¡æ„å›¾</td>
                    <td>å£°æ˜å¼è¯­æ³•ç›´æ¥è¡¨è¾¾ä¸šåŠ¡é€»è¾‘</td>
                </tr>
                <tr>
                    <td><strong>æ€§èƒ½</strong></td>
                    <td>å¤šæ­¥æ“ä½œè§¦å‘å¤šæ¬¡å†…å­˜åˆ†é…ä¸æ‹·è´</td>
                    <td>æƒ°æ€§æ±‚å€¼ï¼Œå•ééå†ï¼Œç¼“å­˜å‹å¥½</td>
                </tr>
            </table>
            
            <div class="code-block">// C++20èŒƒå›´åº“ç¤ºä¾‹ï¼šç­›é€‰å¶æ•°å¹¶è®¡ç®—å¹³æ–¹
auto output = input | 
              std::views::filter([](int n){return n%3==0;}) | 
              std::views::transform([](int n){return n*n;});</div>
            
            <h3>2.2 è®¾è®¡ç†å¿µ</h3>
            <p>C++20èŒƒå›´åº“çš„è®¾è®¡ä¸¥æ ¼éµå¾ªä¸‰å¤§æ ¸å¿ƒå“²å­¦ï¼š</p>
            
            <h4>2.2.1 æ¶ˆé™¤å†—ä½™ï¼Œæå‡è¡¨è¾¾åŠ›</h4>
            <p>ä¼ ç»ŸSTLä¸­ï¼Œå‡ ä¹æ‰€æœ‰ç®—æ³•éƒ½éœ€æ˜¾å¼ä¼ é€’<code>begin()</code>å’Œ<code>end()</code>ã€‚èŒƒå›´åº“å°†ç®—æ³•ç›´æ¥ç»‘å®šåˆ°èŒƒå›´ï¼Œå…è®¸å¼€å‘è€…å†™å‡º<code>std::ranges::sort(vec)</code>ï¼Œä»£ç æ„å›¾ä¸€ç›®äº†ç„¶ã€‚</p>
            
            <h4>2.2.2 æƒ°æ€§æ±‚å€¼ï¼ˆLazy Evaluationï¼‰</h4>
            <p>æƒ°æ€§æ±‚å€¼æ˜¯èŒƒå›´åº“çš„æ€§èƒ½æ ¸å¿ƒï¼šè§†å›¾ï¼ˆViewsï¼‰ä»…åœ¨å®é™…è¿­ä»£æ—¶è®¡ç®—ç»“æœï¼Œè€Œéåœ¨åˆ›å»ºæ—¶ç«‹å³å¤„ç†æ‰€æœ‰å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œ<code>std::views::iota(0)</code>ç”Ÿæˆæ— é™é€’å¢åºåˆ—ï¼Œä½†ç”±äºæƒ°æ€§æ±‚å€¼ï¼Œå®ƒä¸ä¼šå ç”¨ä»»ä½•å†…å­˜ã€‚</p>
            
            <div class="benefits">
                <h4>æƒ°æ€§æ±‚å€¼çš„ä¼˜åŠ¿ï¼š</h4>
                <ul>
                    <li>æ”¯æŒæ— é™åºåˆ—çš„å»ºæ¨¡ï¼ˆå¦‚ä¼ æ„Ÿå™¨æ•°æ®æµï¼‰</li>
                    <li>å°†å¤šæ­¥æ“ä½œåˆå¹¶ä¸ºå•ééå†ï¼Œå½»åº•æ¶ˆé™¤ä¸­é—´å®¹å™¨çš„å†…å­˜å¼€é”€</li>
                    <li>ä¸æ‰‹å†™å¾ªç¯çš„æ€§èƒ½å®Œå…¨ä¸€è‡´</li>
                </ul>
            </div>
            
            <h4>2.2.3 åŸºäºæ¦‚å¿µçš„ç±»å‹å®‰å…¨</h4>
            <p>C++20æ¦‚å¿µï¼ˆConceptsï¼‰æ˜¯èŒƒå›´åº“çš„åŸºçŸ³ï¼šå®ƒå°†æ¨¡æ¿å‚æ•°çš„éšå¼çº¦æŸè½¬åŒ–ä¸ºæ˜¾å¼æ¥å£ï¼Œåœ¨ç¼–è¯‘æœŸç¡®ä¿ç®—æ³•ä»…ä½œç”¨äºç¬¦åˆè¦æ±‚çš„èŒƒå›´ã€‚</p>
            
            <table class="concept-table">
                <tr>
                    <th>æ¦‚å¿µ</th>
                    <th>è¿­ä»£å™¨è¦æ±‚</th>
                    <th>æ ¸å¿ƒèƒ½åŠ›</th>
                    <th>ç¤ºä¾‹</th>
                </tr>
                <tr>
                    <td><code>input_range</code></td>
                    <td><code>input_iterator</code></td>
                    <td>å•éã€åªè¯»éå†</td>
                    <td><code>std::istream_view</code></td>
                </tr>
                <tr>
                    <td><code>forward_range</code></td>
                    <td><code>forward_iterator</code></td>
                    <td>å¤šéã€åªè¯»éå†</td>
                    <td><code>std::forward_list</code></td>
                </tr>
                <tr>
                    <td><code>bidirectional_range</code></td>
                    <td><code>bidirectional_iterator</code></td>
                    <td>å¤šéã€åŒå‘éå†</td>
                    <td><code>std::list</code>ã€<code>std::set</code></td>
                </tr>
                <tr>
                    <td><code>random_access_range</code></td>
                    <td><code>random_access_iterator</code></td>
                    <td>å¤šéã€éšæœºè®¿é—®</td>
                    <td><code>std::vector</code>ã€<code>std::array</code></td>
                </tr>
                <tr>
                    <td><code>contiguous_range</code></td>
                    <td><code>contiguous_iterator</code></td>
                    <td>å¤šéã€è¿ç»­å†…å­˜è®¿é—®</td>
                    <td><code>std::vector</code>ã€<code>std::string</code></td>
                </tr>
            </table>
        </div>
    </section>

    <section id="usage">
        <div class="section-title" onclick="toggleSection('usage-content')">
            <h2>3. èŒƒå›´åº“çš„ä½¿ç”¨æ–¹æ³•</h2>
            <span class="toggle-icon" id="usage-toggle">â–¼</span>
        </div>
        <div class="section-content" id="usage-content">
            <h3>3.1 èŒƒå›´çš„å®šä¹‰ä¸åˆ†ç±»</h3>
            <p>èŒƒå›´åº“ä¸­çš„èŒƒå›´åˆ†ä¸ºä¸¤å¤§æ ¸å¿ƒç±»åˆ«ï¼š<strong>å®¹å™¨èŒƒå›´</strong>ä¸<strong>è§†å›¾èŒƒå›´</strong>ï¼ŒäºŒè€…çš„æ ¸å¿ƒå·®å¼‚åœ¨äºæ˜¯å¦æ‹¥æœ‰æ•°æ®æ‰€æœ‰æƒã€‚</p>
            
            <h4>3.1.1 å®¹å™¨èŒƒå›´ï¼ˆContainer Rangesï¼‰</h4>
            <p>å®¹å™¨èŒƒå›´å³ä¼ ç»ŸSTLå®¹å™¨ï¼ˆå¦‚<code>std::vector</code>ã€<code>std::list</code>ï¼‰ï¼Œå®ƒä»¬<strong>æ‹¥æœ‰æ•°æ®æ‰€æœ‰æƒ</strong>ï¼Œå†…å­˜ç”±å®¹å™¨è‡ªèº«ç®¡ç†ã€‚</p>
            
            <div class="code-block">std::vector<int> nums = {1,2,3,4,5};
auto even_nums = nums | 
                 std::views::filter([](int n){return n%2==0;});</div>
            
            <h4>3.1.2 è§†å›¾èŒƒå›´ï¼ˆView Rangesï¼‰</h4>
            <p>è§†å›¾èŒƒå›´ï¼ˆç®€ç§°"è§†å›¾"ï¼‰æ˜¯å¯¹ç°æœ‰èŒƒå›´çš„<strong>è½»é‡çº§ã€éæ‹¥æœ‰</strong>çš„å¼•ç”¨ï¼Œæ»¡è¶³<code>std::ranges::view</code>æ¦‚å¿µã€‚è§†å›¾çš„æ ¸å¿ƒç‰¹æ€§æ˜¯<strong>æƒ°æ€§æ±‚å€¼</strong>ï¼šæ‰€æœ‰è½¬æ¢æ“ä½œä»…åœ¨è¿­ä»£æ—¶è§¦å‘ï¼Œä¸å¤åˆ¶ä»»ä½•æ•°æ®ã€‚</p>
            
            <div class="code-block">// ç”Ÿæˆå‰5ä¸ªå¶æ•°çš„å¹³æ–¹åºåˆ—
auto even_squares = std::views::iota(0, 10)
                 | std::views::filter([](int n) { return n % 2 == 0; })
                 | std::views::transform([](int n) { return n * n; })
                 | std::views::take(5);</div>
            
            <h4>3.1.3 å…³é”®æ³¨æ„äº‹é¡¹ï¼šè§†å›¾çš„ç”Ÿå‘½å‘¨æœŸ</h4>
            <div class="warning">
                <p><strong>è­¦å‘Šï¼š</strong>ç”±äºè§†å›¾ä¸æ‹¥æœ‰æ•°æ®ï¼Œå®ƒä»…ä¿å­˜å¯¹åŸèŒƒå›´çš„å¼•ç”¨ã€‚è‹¥åŸèŒƒå›´çš„ç”Ÿå‘½å‘¨æœŸçŸ­äºè§†å›¾ï¼Œå°†å¯¼è‡´<strong>æ‚¬å‚å¼•ç”¨ï¼ˆdangling referenceï¼‰</strong>ï¼Œå¼•å‘æœªå®šä¹‰è¡Œä¸ºã€‚</p>
            </div>
            
            <div class="code-block">// é”™è¯¯ç¤ºä¾‹ï¼šåŸå‘é‡åœ¨å‡½æ•°è¿”å›åé”€æ¯ï¼Œè§†å›¾å¼•ç”¨å¤±æ•ˆ
auto create_view() {
    std::vector<int> nums = {1,2,3,4,5};
    return nums | std::views::filter([](int n){return n%2==0;});
}</div>
            
            <p><strong>æœ€ä½³å®è·µï¼š</strong>ç¡®ä¿åŸèŒƒå›´çš„ç”Ÿå‘½å‘¨æœŸé•¿äºè§†å›¾ï¼Œæˆ–é€šè¿‡<code>std::ranges::to</code>ï¼ˆC++23ï¼‰å°†è§†å›¾è½¬æ¢ä¸ºå®¹å™¨ï¼Œæ˜¾å¼æ‹·è´æ•°æ®ã€‚</p>
            
            <h3>3.2 èŒƒå›´çš„æ“ä½œ</h3>
            <h4>3.2.1 ç®¡é“è¯­æ³•ï¼ˆPipeline Syntaxï¼‰</h4>
            <p>èŒƒå›´åº“çš„æ“ä½œæ ¸å¿ƒæ˜¯<strong>ç®¡é“è¯­æ³•</strong>ï¼šé€šè¿‡<code>|</code>è¿ç®—ç¬¦å°†èŒƒå›´ä¸è§†å›¾é€‚é…å™¨ä¸²è”ï¼Œå½¢æˆæ¸…æ™°çš„æ•°æ®å¤„ç†æµæ°´çº¿ã€‚</p>
            
            <h4>3.2.2 èŒƒå›´è½¬æ¢ä¸ºå®¹å™¨</h4>
            <div class="code-block">// C++23ï¼šä½¿ç”¨std::ranges::toå°†è§†å›¾è½¬æ¢ä¸ºå®¹å™¨
auto vec = view | std::ranges::to<std::vector>();</div>
            
            <h4>3.2.3 å—çº¦æŸç®—æ³•çš„ä½¿ç”¨</h4>
            <p>C++20èŒƒå›´åº“æä¾›äº†ä¸€å¥—<strong>å—çº¦æŸç®—æ³•</strong>ï¼ˆå¦‚<code>std::ranges::sort</code>ã€<code>std::ranges::find</code>ï¼‰ï¼Œå®ƒä»¬ç›´æ¥ä½œç”¨äºèŒƒå›´ï¼Œå¹¶é€šè¿‡æ¦‚å¿µç¡®ä¿ç±»å‹å®‰å…¨ã€‚</p>
            
            <div class="code-block">std::vector<int> nums = {3,1,4,1,5,9};
std::ranges::sort(nums);  // ç›´æ¥å¯¹èŒƒå›´æ’åº</div>
            
            <div class="code-block">// è‹¥ä¼ å…¥éæ³•èŒƒå›´ï¼Œç¼–è¯‘å™¨ä¼šç›´æ¥æŠ¥é”™
std::list<int> nums = {3,1,4};
std::ranges::sort(nums);  // ç¼–è¯‘é”™è¯¯ï¼šstd::listä¸æ»¡è¶³random_access_rangeçº¦æŸ</div>
        </div>
    </section>

    <section id="core-components">
        <div class="section-title" onclick="toggleSection('components-content')">
            <h2>4. æ ¸å¿ƒç»„ä»¶è¯¦è§£</h2>
            <span class="toggle-icon" id="components-toggle">â–¼</span>
        </div>
        <div class="section-content" id="components-content">
            <h3>4.1 è§†å›¾ï¼ˆViewï¼‰</h3>
            <p>è§†å›¾æ˜¯èŒƒå›´åº“çš„æ ¸å¿ƒåˆ›æ–°ï¼Œå®ƒé‡æ–°å®šä¹‰äº†åºåˆ—è½¬æ¢çš„æ–¹å¼ã€‚åœ¨C++20æ ‡å‡†ä¸­ï¼Œè§†å›¾è¢«ä¸¥æ ¼å®šä¹‰ä¸ºæ»¡è¶³<code>std::ranges::view</code>æ¦‚å¿µçš„ç±»å‹ã€‚</p>
            
            <div class="code-block">template<typename V>
concept view = std::ranges::range<V> && 
               std::movable<V> && 
               std::ranges::enable_view<V>;</div>
            
            <div class="benefits">
                <h4>è§†å›¾çš„æ ¸å¿ƒç‰¹æ€§ï¼š</h4>
                <ul>
                    <li><strong>è½»é‡çº§</strong>ï¼šç§»åŠ¨æˆæœ¬O(1)ï¼Œä»…ä¿å­˜å¯¹åŸèŒƒå›´çš„å¼•ç”¨</li>
                    <li><strong>æƒ°æ€§æ±‚å€¼</strong>ï¼šä»…åœ¨è¿­ä»£æ—¶è®¡ç®—å…ƒç´ ï¼Œè€Œéåˆ›å»ºæ—¶å¤„ç†æ‰€æœ‰æ•°æ®</li>
                    <li><strong>é›¶ä¸­é—´æ‹·è´</strong>ï¼šå¤šæ­¥è½¬æ¢æ“ä½œæ— éœ€åˆ›å»ºä¸­é—´å®¹å™¨</li>
                    <li><strong>æ— é™åºåˆ—æ”¯æŒ</strong>ï¼šä¾‹å¦‚<code>std::views::iota(0)</code>ç”Ÿæˆæ— é™é€’å¢åºåˆ—</li>
                    <li><strong>å•ééå†ä¼˜åŒ–</strong>ï¼šå¤šæ­¥è½¬æ¢æ“ä½œå¯åˆå¹¶ä¸ºå•ééå†</li>
                </ul>
            </div>
            
            <h3>4.2 èŒƒå›´é€‚é…å™¨ï¼ˆRange Adapterï¼‰</h3>
            <p>èŒƒå›´é€‚é…å™¨æ˜¯ç”¨äºåˆ›å»ºè§†å›¾çš„å‡½æ•°æˆ–å¯¹è±¡ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªèŒƒå›´å¹¶è¿”å›ä¸€ä¸ªæ–°è§†å›¾ã€‚</p>
            
            <div class="code-block">// é€‚é…å™¨ç»„åˆç¤ºä¾‹ï¼šä»æ—¥å¿—ä¸­ç­›é€‰ERRORçº§åˆ«çš„è¶…æ—¶è®°å½•ï¼Œæå–æ¶ˆæ¯
auto critical_errors = logs
                     | std::views::filter([](const LogEntry& e) { 
                           return e.level == "ERROR"; 
                       })
                     | std::views::filter([](const LogEntry& e) { 
                           return e.message.find("timeout") != std::string::npos; 
                       })
                     | std::views::transform([](const LogEntry& e) { 
                           return e.message; 
                       });</div>
            
            <h3>4.3 Range-v3åº“</h3>
            <p><strong>Range-v3</strong>æ˜¯C++20èŒƒå›´åº“çš„"å‚è€ƒå®ç°"ï¼šå®ƒç”±Eric Nieblerå¼€å‘ï¼Œæ˜¯C++20æ ‡å‡†èŒƒå›´åº“çš„åŸºç¡€ï¼ŒåŒæ—¶æ”¯æŒC++14/17/20ï¼Œæä¾›äº†æ¯”æ ‡å‡†åº“æ›´ä¸°å¯Œçš„åŠŸèƒ½ã€‚</p>
            
            <div class="note">
                <p><strong>Range-v3ä¸C++20æ ‡å‡†åº“çš„å…³ç³»ï¼š</strong></p>
                <ul>
                    <li><strong>å†å²æ¸Šæºï¼š</strong>C++20èŒƒå›´åº“çš„æ ¸å¿ƒææ¡ˆå®Œå…¨åŸºäºRange-v3çš„è®¾è®¡</li>
                    <li><strong>å…¼å®¹æ€§ï¼š</strong>Range-v3ä¸C++20æ ‡å‡†åº“çš„æ¥å£é«˜åº¦å…¼å®¹</li>
                    <li><strong>åŠŸèƒ½å·®å¼‚ï¼š</strong>Range-v3æä¾›äº†æ ‡å‡†åº“æœªåŒ…å«çš„ç‰¹æ€§</li>
                </ul>
            </div>
            
            <div class="code-block">// Range-v3ç¤ºä¾‹ï¼šä¿®å‰ªå­—ç¬¦ä¸²ç©ºç™½
#include <range/v3/view/trim.hpp>
std::string s = "  hello world  ";
auto trimmed = s | ranges::views::trim([](char c) { 
                   return std::isspace(c); 
               });</div>
        </div>
    </section>

    <section id="case-studies">
        <div class="section-title" onclick="toggleSection('cases-content')">
            <h2>5. å®é™…é¡¹ç›®ä¸­çš„åº”ç”¨æ¡ˆä¾‹</h2>
            <span class="toggle-icon" id="cases-toggle">â–¼</span>
        </div>
        <div class="section-content" id="cases-content">
            <div class="case-study">
                <h4>æ¡ˆä¾‹ä¸€ï¼šé«˜æ€§èƒ½æ—¥å¿—åˆ†æç³»ç»Ÿ</h4>
                <p><strong>é—®é¢˜ï¼š</strong>ä¼ ç»Ÿæ—¥å¿—åˆ†æéœ€åˆ›å»ºä¸­é—´å®¹å™¨ï¼Œå†…å­˜å³°å€¼è¾¾890MBï¼Œè€—æ—¶142msï¼Œæ— æ³•æ»¡è¶³TBçº§æ•°æ®å¤„ç†éœ€æ±‚ã€‚</p>
                <p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong>é€šè¿‡èŒƒå›´åº“çš„è§†å›¾ç»„åˆï¼Œå°†ä¸‰æ­¥æ“ä½œåˆå¹¶ä¸ºå•ééå†ï¼Œå®Œå…¨æ¶ˆé™¤ä¸­é—´å®¹å™¨ã€‚</p>
                <div class="results">
                    <div class="result-item">
                        <div class="result-value">-54%</div>
                        <div class="result-label">å†…å­˜å³°å€¼é™ä½</div>
                    </div>
                    <div class="result-item">
                        <div class="result-value">-31%</div>
                        <div class="result-label">å¤„ç†æ—¶é—´å‡å°‘</div>
                    </div>
                    <div class="result-item">
                        <div class="result-value">-40%</div>
                        <div class="result-label">ä»£ç è¡Œæ•°å‡å°‘</div>
                    </div>
                </div>
            </div>
            
            <div class="case-study">
                <h4>æ¡ˆä¾‹äºŒï¼šç§‘å­¦è®¡ç®—ä¸­çš„å‘é‡è¿ç®—</h4>
                <p><strong>é—®é¢˜ï¼š</strong>ä¼ ç»Ÿå‘é‡è¿ç®—éœ€ä½¿ç”¨åµŒå¥—å¾ªç¯ï¼Œä»£ç å†—é•¿ä¸”æ— æ³•å……åˆ†åˆ©ç”¨ç°ä»£CPUçš„ç¼“å­˜ä¼˜åŒ–ã€‚</p>
                <p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong>é€šè¿‡èŒƒå›´åº“çš„<code>views::zip</code>ä¸<code>views::transform</code>ï¼Œå°†å‘é‡è¿ç®—è½¬æ¢ä¸ºå£°æ˜å¼ä»£ç ã€‚</p>
                <div class="results">
                    <div class="result-item">
                        <div class="result-value">+15%</div>
                        <div class="result-label">æ€§èƒ½æå‡</div>
                    </div>
                    <div class="result-item">
                        <div class="result-value">é«˜</div>
                        <div class="result-label">ä»£ç å¯è¯»æ€§</div>
                    </div>
                </div>
            </div>
            
            <div class="case-study">
                <h4>æ¡ˆä¾‹ä¸‰ï¼šåµŒå…¥å¼å®æ—¶ç³»ç»Ÿä¸­çš„ä¼ æ„Ÿå™¨æ•°æ®å¤„ç†</h4>
                <p><strong>é—®é¢˜ï¼š</strong>ä¼ ç»ŸSTLå®ç°éœ€åˆ›å»ºä¸­é—´å®¹å™¨ï¼Œå†…å­˜å¼€é”€è¾¾2KBï¼ˆå STM32F407 SRAMçš„1.04%ï¼‰ã€‚</p>
                <p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong>é€šè¿‡èŒƒå›´åº“çš„<code>input_range</code>ä¸è§†å›¾ç»„åˆï¼Œå®ç°é›¶ä¸­é—´å®¹å™¨çš„æ•°æ®å¤„ç†ã€‚</p>
                <div class="results">
                    <div class="result-item">
                        <div class="result-value">0KB</div>
                        <div class="result-label">ä¸­é—´å®¹å™¨å†…å­˜</div>
                    </div>
                    <div class="result-item">
                        <div class="result-value">-38%</div>
                        <div class="result-label">å¤„ç†æ—¶é—´å‡å°‘</div>
                    </div>
                </div>
            </div>
            
            <div class="case-study">
                <h4>æ¡ˆä¾‹å››ï¼šUIæ¡†æ¶ä¸­çš„æ§ä»¶éå†</h4>
                <p><strong>é—®é¢˜ï¼š</strong>ä¼ ç»ŸUIæ§ä»¶éå†éœ€ä½¿ç”¨é€’å½’æˆ–è¿­ä»£å™¨ï¼Œä»£ç å†—é•¿ä¸”æ˜“å‡ºé”™ã€‚</p>
                <p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong>é€šè¿‡èŒƒå›´åº“çš„<code>views::filter</code>ä¸<code>views::transform</code>ï¼Œå°†æ§ä»¶éå†è½¬æ¢ä¸ºå£°æ˜å¼ä»£ç ã€‚</p>
                <div class="results">
                    <div class="result-item">
                        <div class="result-value">-30%</div>
                        <div class="result-label">ä»£ç è¡Œæ•°å‡å°‘</div>
                    </div>
                    <div class="result-item">
                        <div class="result-value">+12%</div>
                        <div class="result-label">æ€§èƒ½æå‡</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="advanced-features">
        <div class="section-title" onclick="toggleSection('advanced-content')">
            <h2>6. è¿›é˜¶ç‰¹æ€§ä¸æœ€ä½³å®è·µ</h2>
            <span class="toggle-icon" id="advanced-toggle">â–¼</span>
        </div>
        <div class="section-content" id="advanced-content">
            <h3>6.1 æŠ•å½±ï¼ˆProjectionï¼‰</h3>
            <p>æŠ•å½±æ˜¯C++20èŒƒå›´åº“çš„é«˜çº§ç‰¹æ€§ï¼šå®ƒå…è®¸åœ¨ç®—æ³•æ‰§è¡Œå‰å¯¹å…ƒç´ è¿›è¡Œè½¬æ¢ï¼Œæ— éœ€é¢å¤–çš„<code>std::transform</code>ã€‚</p>
            
            <div class="code-block">struct Student {
    std::string name;
    int score;
};

std::vector<Student> students = { /* ... */ };

// æŒ‰scoreæˆå‘˜æ’åºï¼Œä½¿ç”¨æŠ•å½±&Student::score
std::ranges::sort(students, std::ranges::less{}, &Student::score);

// æŒ‰nameé•¿åº¦æ’åºï¼Œä½¿ç”¨lambdaæŠ•å½±
std::ranges::sort(students, std::ranges::less{}, [](const Student& s) {
    return s.name.length();
});</div>
            
            <h3>6.2 è‡ªå®šä¹‰èŒƒå›´ä¸è§†å›¾</h3>
            <p>å°½ç®¡C++20æ ‡å‡†åº“æä¾›äº†ä¸°å¯Œçš„é¢„å®šä¹‰èŒƒå›´ä¸è§†å›¾ï¼Œä½†åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œä»éœ€è‡ªå®šä¹‰èŒƒå›´ä»¥é€‚é…ç‰¹å®šåœºæ™¯ã€‚</p>
            
            <div class="code-block">// è‡ªå®šä¹‰èŒƒå›´ç¤ºä¾‹
class MyRange {
private:
    std::vector<int> data_;
public:
    // æ»¡è¶³rangeæ¦‚å¿µï¼šè¿”å›è¿­ä»£å™¨
    auto begin() { return data_.begin(); }
    auto end() { return data_.end(); }
};</div>
            
            <h3>6.3 æœ€ä½³å®è·µ</h3>
            <div class="benefits">
                <h4>èŒƒå›´åº“ä½¿ç”¨æœ€ä½³å®è·µï¼š</h4>
                <ol>
                    <li><strong>ä¼˜å…ˆä½¿ç”¨è§†å›¾ï¼ˆViewsï¼‰è€Œéå®¹å™¨ï¼ˆContainersï¼‰è¿›è¡Œä¸­é—´è½¬æ¢</strong></li>
                    <li><strong>æ³¨æ„è§†å›¾çš„ç”Ÿå‘½å‘¨æœŸï¼Œé¿å…æ‚¬å‚å¼•ç”¨</strong></li>
                    <li><strong>åˆ©ç”¨æ¦‚å¿µï¼ˆConceptsï¼‰çº¦æŸæ³›å‹å‡½æ•°çš„å‚æ•°</strong></li>
                    <li><strong>é¿å…åœ¨è§†å›¾ä¸­æ‰§è¡Œæœ‰å‰¯ä½œç”¨çš„æ“ä½œ</strong></li>
                    <li><strong>ç†Ÿæ‚‰æ ‡å‡†åº“ä¸­çš„é¢„å®šä¹‰è§†å›¾ä¸ç®—æ³•</strong></li>
                    <li><strong>å¯¹äºC++20ä¹‹å‰çš„é¡¹ç›®ï¼Œä½¿ç”¨Range-v3åº“</strong></li>
                </ol>
            </div>
        </div>
    </section>

    <section id="conclusion">
        <div class="section-title" onclick="toggleSection('conclusion-content')">
            <h2>7. æ€»ç»“</h2>
            <span class="toggle-icon" id="conclusion-toggle">â–¼</span>
        </div>
        <div class="section-content" id="conclusion-content">
            <p>C++20èŒƒå›´åº“æ˜¯ç°ä»£C++ç¼–ç¨‹çš„é‡Œç¨‹ç¢‘ï¼Œå®ƒå°†åºåˆ—æ“ä½œä»"è¿­ä»£å™¨å¯¹"æ¨¡å‹å‡çº§ä¸º"èŒƒå›´"æ¨¡å‹ï¼Œå½»åº•è§£å†³äº†ä¼ ç»ŸSTLçš„æ ¸å¿ƒç—›ç‚¹ã€‚</p>
            
            <div class="benefits">
                <h4>èŒƒå›´åº“çš„æ ¸å¿ƒåˆ›æ–°ï¼š</h4>
                <ul>
                    <li><strong>ç»Ÿä¸€æŠ½è±¡ï¼š</strong>å°†æ‰€æœ‰å¯è¿­ä»£åºåˆ—ç»Ÿä¸€ä¸ºèŒƒå›´</li>
                    <li><strong>æƒ°æ€§æ±‚å€¼ï¼š</strong>è§†å›¾ä»…åœ¨è¿­ä»£æ—¶è®¡ç®—ç»“æœï¼Œå®Œå…¨æ¶ˆé™¤ä¸­é—´å®¹å™¨å¼€é”€</li>
                    <li><strong>å£°æ˜å¼ç¼–ç¨‹ï¼š</strong>ç®¡é“è¯­æ³•ä¸²è”æ“ä½œï¼Œä»£ç æ„å›¾æ¸…æ™°</li>
                    <li><strong>ç±»å‹å®‰å…¨ï¼š</strong>åŸºäºC++20æ¦‚å¿µçš„å—çº¦æŸç®—æ³•</li>
                </ul>
            </div>
            
            <p>ä»å®é™…é¡¹ç›®åº”ç”¨æ¥çœ‹ï¼ŒèŒƒå›´åº“ä¸ä»…ç®€åŒ–äº†ä»£ç ï¼Œæ›´æ˜¾è‘—æå‡äº†æ€§èƒ½ã€‚éšç€C++23æ ‡å‡†çš„å‘å¸ƒï¼ŒèŒƒå›´åº“çš„åŠŸèƒ½å°†è¿›ä¸€æ­¥å¢å¼ºã€‚</p>
            
            <div class="note">
                <p><strong>å­¦ä¹ è·¯å¾„å»ºè®®ï¼š</strong></p>
                <ol>
                    <li>ç†Ÿæ‚‰é¢„å®šä¹‰è§†å›¾ä¸ç®¡é“è¯­æ³•</li>
                    <li>æŒæ¡å—çº¦æŸç®—æ³•çš„ä½¿ç”¨ï¼Œå°¤å…¶æ˜¯æŠ•å½±ç‰¹æ€§</li>
                    <li>å°è¯•åœ¨å®é™…é¡¹ç›®ä¸­æ›¿æ¢ä¼ ç»ŸSTLè¿­ä»£å™¨å¯¹çš„ä½¿ç”¨</li>
                    <li>æ¢ç´¢Range-v3åº“çš„é¢å¤–åŠŸèƒ½</li>
                    <li>å­¦ä¹ è‡ªå®šä¹‰èŒƒå›´ä¸è§†å›¾</li>
                </ol>
            </div>
        </div>
    </section>

    <footer>
        <p>C++20èŒƒå›´åº“ï¼ˆRanges Libraryï¼‰å…¨é¢æŒ‡å—</p>
        <p>å†…å®¹åŸºäºC++20æ ‡å‡†ä¸range-v3åº“å®ç°</p>
    </footer>

    <script>
        // åˆå§‹åŒ–æ‰€æœ‰å†…å®¹ä¸ºå±•å¼€çŠ¶æ€
        document.addEventListener('DOMContentLoaded', function() {
            const sections = document.querySelectorAll('.section-content');
            sections.forEach(section => {
                section.style.maxHeight = section.scrollHeight + 'px';
            });
        });
        
        // åˆ‡æ¢ç« èŠ‚å±•å¼€/æŠ˜å 
        function toggleSection(contentId) {
            const content = document.getElementById(contentId);
            const toggleIcon = document.getElementById(contentId.replace('content', 'toggle'));
            
            if (content.style.maxHeight && content.style.maxHeight !== '0px') {
                content.style.maxHeight = '0px';
                toggleIcon.textContent = 'â–¶';
            } else {
                content.style.maxHeight = content.scrollHeight + 'px';
                toggleIcon.textContent = 'â–¼';
            }
        }
    </script>
</body>
</html>