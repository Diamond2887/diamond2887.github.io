<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vulkan å˜æ¢åé¦ˆ Â· æ·±åº¦æŠ€æœ¯è§£æ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #f2f5f9;
            font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
            line-height: 1.6;
            color: #1e293b;
            padding: 2rem 1rem;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            background: white;
            border-radius: 32px;
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.15);
            overflow: hidden;
            padding: 2.5rem 2.2rem;
        }

        /* æ ‡é¢˜è£…é¥° */
        h1 {
            font-size: 2.8rem;
            font-weight: 700;
            letter-spacing: -0.02em;
            background: linear-gradient(145deg, #0f172a, #3b3b8f);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
            border-left: 8px solid #3b82f6;
            padding-left: 1.5rem;
            line-height: 1.2;
        }

        .subhead {
            font-size: 1.2rem;
            color: #475569;
            margin-bottom: 2.5rem;
            margin-top: 0.5rem;
            padding-left: 2rem;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 1rem;
        }

        /* å±‚çº§æ ‡ç­¾ */
        .section-tag {
            display: inline-block;
            background: #dbeafe;
            color: #1e40af;
            font-weight: 600;
            font-size: 0.85rem;
            padding: 0.2rem 1rem;
            border-radius: 30px;
            letter-spacing: 0.3px;
            margin-right: 0.75rem;
            text-transform: uppercase;
            border: 1px solid #bfdbfe;
        }

        h2 {
            font-size: 1.9rem;
            font-weight: 650;
            margin: 2.5rem 0 1rem 0;
            padding-bottom: 0.5rem;
            border-bottom: 3px solid;
            border-image: linear-gradient(90deg, #2563eb, #a5b4fc) 1;
            border-bottom-style: solid;
            border-bottom-width: 3px;
            border-image-slice: 1;
            display: flex;
            align-items: center;
        }

        h2 .section-tag {
            font-size: 1rem;
        }

        /* å¯æŠ˜å å°èŠ‚ â€” ç”ŸåŠ¨å¡ç‰‡ */
        details {
            background: #ffffff;
            border: 1px solid #e9eef3;
            border-radius: 24px;
            margin: 1.5rem 0;
            box-shadow: 0 6px 14px rgba(0,20,40,0.03);
            transition: all 0.1s;
            overflow: hidden;
        }

        details[open] {
            box-shadow: 0 12px 24px -8px rgba(37,99,235,0.15);
            border-color: #b1c9f0;
        }

        summary {
            padding: 1.2rem 1.8rem;
            background: #f9fcff;
            cursor: pointer;
            font-weight: 600;
            font-size: 1.35rem;
            border-radius: 24px 24px 0 0;
            list-style: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            border-bottom: 1px solid transparent;
        }

        details[open] summary {
            border-bottom-color: #d9e6f7;
            background: #f0f7fe;
        }

        summary::-webkit-details-marker {
            display: none;
        }

        summary::before {
            content: "â–¶";
            font-size: 1.2rem;
            color: #2563eb;
            margin-right: 0.6rem;
            transition: transform 0.2s;
        }

        details[open] summary::before {
            content: "â–¼";
        }

        /* ä¸‰çº§æ ‡é¢˜ï¼ˆå°èŠ‚å†…åµŒï¼‰ */
        .subsection-title {
            font-size: 1.35rem;
            font-weight: 600;
            margin: 1.8rem 0 0.8rem 0;
            padding-left: 0.75rem;
            border-left: 5px solid #2563eb;
            background: linear-gradient(to right, #f8fafc, transparent);
            padding-top: 0.2rem;
            padding-bottom: 0.2rem;
        }

        .subsection-title .light-badge {
            background: #e2e8f0;
            color: #334155;
            font-size: 0.8rem;
            border-radius: 20px;
            padding: 0.2rem 0.8rem;
            margin-left: 1rem;
            font-weight: 400;
        }

        /* å†…å®¹åŒºåŸŸ */
        .content-body {
            padding: 0.2rem 2rem 1.8rem 2rem;
        }

        /* æ–‡æœ¬æ ·å¼ */
        p {
            margin: 1.2rem 0;
            color: #1e293b;
        }

        strong {
            color: #0f2b5c;
            font-weight: 600;
            background: linear-gradient(to right, #ffffff, #dbeafe);
            padding: 0 0.2rem;
        }

        ul, ol {
            margin: 1rem 0 1.5rem 2rem;
        }

        li {
            margin: 0.5rem 0;
        }

        li strong {
            background: none;
            padding: 0;
        }

        /* ä»£ç å— */
        pre {
            background: #0f172a;
            color: #e2e8f0;
            padding: 1.4rem 1.8rem;
            border-radius: 18px;
            overflow-x: auto;
            font-family: 'JetBrains Mono', 'Fira Code', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
            margin: 1.8rem 0;
            box-shadow: inset 0 0 0 1px #334155;
            white-space: pre-wrap;
            word-break: break-word;
            tab-size: 4;
        }

        code {
            font-family: 'JetBrains Mono', 'Fira Code', monospace;
            background: #edeff2;
            color: #0b1e4e;
            padding: 0.2rem 0.5rem;
            border-radius: 8px;
            font-size: 0.9rem;
        }

        pre code {
            background: transparent;
            color: inherit;
            padding: 0;
        }

        /* æ ‡æ³¨ã€æ ‡ç­¾ */
        .badge {
            background: #3b82f6;
            color: white;
            font-size: 0.8rem;
            padding: 0.2rem 0.9rem;
            border-radius: 20px;
            display: inline-block;
            margin-right: 0.6rem;
            font-weight: 500;
        }

        .quote-note {
            background: #f1f5fe;
            border-left: 6px solid #2563eb;
            padding: 1.2rem 2rem;
            border-radius: 16px;
            margin: 1.8rem 0;
            font-style: normal;
            box-shadow: 0 2px 8px rgba(0,0,0,0.02);
        }

        hr {
            margin: 2rem 0;
            border: none;
            height: 1px;
            background: linear-gradient(to right, #d9e2ef, transparent);
        }

        /* æ€§èƒ½æ•°æ®é«˜äº® */
        .perf-num {
            font-weight: 700;
            color: #2563eb;
            background: #e9f0ff;
            padding: 0.15rem 0.5rem;
            border-radius: 12px;
            font-size: 0.95rem;
        }

        footer {
            margin-top: 3rem;
            text-align: right;
            color: #64748b;
            font-size: 0.95rem;
            border-top: 2px dashed #cbd5e1;
            padding-top: 1.5rem;
        }

        @media (max-width: 700px) {
            .container {
                padding: 1.5rem 1rem;
            }
            h1 {
                font-size: 2.1rem;
            }
            summary {
                font-size: 1.2rem;
                padding: 1rem;
            }
            .content-body {
                padding: 0 1rem 1.2rem 1rem;
            }
        }
    </style>
</head>
<body>
<div class="container">
    <h1>âš¡ Vulkan å˜æ¢åé¦ˆ <span style="font-size:1.8rem; background: none; -webkit-text-fill-color: #3b3b8f;">æŠ€æœ¯å…¨æ™¯</span></h1>
    <div class="subhead">ä»åŸç†åˆ°ä¼˜åŒ– Â· ä¸OpenGLå¯¹æ¯” Â· å¹³å°ç‰¹æ€§ Â· å®Œå…¨é™æ€è¯¦è§£</div>

    <!-- å¼•è¨€éƒ¨åˆ† -->
    <div class="quote-note">
        <span class="badge">æ ¸å¿ƒå¯¼è¯»</span> 
        <strong>Vulkanä½œä¸ºæ–°ä¸€ä»£çš„å›¾å½¢APIï¼Œå…¶å˜æ¢åé¦ˆåŠŸèƒ½ä¸ºå¼€å‘è€…æä¾›äº†å¼ºå¤§çš„æ•°æ®å¤„ç†èƒ½åŠ›ã€‚</strong> æœ¬æ–‡ä»ç†è®ºåŸºç¡€ã€APIå®ç°ã€æ€§èƒ½ä¼˜åŒ–ã€ä¸OpenGLå¯¹æ¯”ä»¥åŠå¹³å°ç‰¹æ€§ç­‰å¤šä¸ªç»´åº¦ï¼Œå…¨é¢æ·±å…¥åœ°æ¢è®¨Vulkanå˜æ¢åé¦ˆæŠ€æœ¯ã€‚
    </div>

    <!-- ä¸€ã€åŸºæœ¬åŸç†ä¸å®ç°æœºåˆ¶ (ä½¿ç”¨æŠ˜å ä¸»ç»†èŠ‚) -->
    <h2><span class="section-tag">ä¸€</span> åŸºæœ¬åŸç†ä¸å®ç°æœºåˆ¶</h2>
    <details open>
        <summary><span>å›¾å½¢ç®¡çº¿ä¸­çš„ä½ç½® Â· æ•°æ®æ•è· Â· ç®¡çº¿é‡å®šå‘</span></summary>
        <div class="content-body">
            <!-- 1.1 -->
            <div class="subsection-title">1.1 å˜æ¢åé¦ˆåœ¨å›¾å½¢ç®¡çº¿ä¸­çš„ä½ç½®ä¸ä½œç”¨ <span class="light-badge">å›ºå®šåŠŸèƒ½é˜¶æ®µ</span></div>
            <p>åœ¨Vulkançš„å›¾å½¢ç®¡çº¿ä¸­ï¼Œ<strong>å˜æ¢åé¦ˆï¼ˆTransform Feedbackï¼‰æ˜¯ä¸€ä¸ªå¯é€‰çš„å›ºå®šåŠŸèƒ½é˜¶æ®µ</strong>ï¼Œä½äºå…‰æ …åŒ–ä¹‹å‰çš„é¡¶ç‚¹åå¤„ç†é˜¶æ®µã€‚è¿™æ„å‘³ç€é¡¶ç‚¹ç€è‰²å™¨ã€ç»†åˆ†ç€è‰²å™¨æˆ–å‡ ä½•ç€è‰²å™¨çš„è¾“å‡ºå¯ä»¥è¢«æ•è·å¹¶å†™å…¥åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªç»‘å®šåˆ°å‘½ä»¤ç¼“å†²åŒºçš„å˜æ¢åé¦ˆç¼“å†²åŒºä¸­ã€‚</p>
            <p>å˜æ¢åé¦ˆçš„æ ¸å¿ƒä½œç”¨æ˜¯<strong>æ‰“ç ´ä¼ ç»Ÿæ¸²æŸ“ç®¡çº¿çš„å•å‘æµåŠ¨æ¨¡å¼</strong>ã€‚åœ¨ä¼ ç»Ÿçš„æ¸²æŸ“æµç¨‹ä¸­ï¼Œé¡¶ç‚¹æ•°æ®ç»è¿‡ç€è‰²å™¨å¤„ç†åï¼Œè¦ä¹ˆè¿›å…¥å…‰æ …åŒ–é˜¶æ®µè¢«æ¸²æŸ“åˆ°å±å¹•ä¸Šï¼Œè¦ä¹ˆè¢«ä¸¢å¼ƒã€‚è€Œå˜æ¢åé¦ˆæä¾›äº†ç¬¬ä¸‰ç§é€‰æ‹©ï¼šå°†ç€è‰²å™¨çš„è¾“å‡ºæ•°æ®æ•è·å¹¶å­˜å‚¨åˆ°ç¼“å†²åŒºä¸­ï¼Œä¾›åç»­çš„æ¸²æŸ“æ“ä½œä½¿ç”¨ã€‚è¿™ç§æœºåˆ¶åœ¨ç²’å­ç³»ç»Ÿã€æµä½“æ¨¡æ‹Ÿã€éª¨éª¼åŠ¨ç”»ç­‰éœ€è¦GPUç«¯æ•°æ®å¤„ç†çš„åœºæ™¯ä¸­å°¤ä¸ºé‡è¦ã€‚</p>
            <p>ä»æ•°æ®æµçš„è§’åº¦çœ‹ï¼Œå˜æ¢åé¦ˆé˜¶æ®µå¯ä»¥è¢«è§†ä¸ºä¸€ä¸ª<strong>æ•°æ®åˆ†æµç‚¹</strong>ã€‚å½“å˜æ¢åé¦ˆå¤„äºæ¿€æ´»çŠ¶æ€æ—¶ï¼Œæ¯ä¸ªç‚¹ã€çº¿æˆ–ä¸‰è§’å½¢å›¾å…ƒåˆ°è¾¾è¯¥é˜¶æ®µæ—¶ï¼ŒæŒ‡å®šè¾“å‡ºå˜é‡çš„å€¼ä¼šè¢«ç»„è£…æˆå›¾å…ƒå¹¶è¿½åŠ åˆ°ç»‘å®šçš„å˜æ¢åé¦ˆç¼“å†²åŒºä¸­ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ‰€æœ‰è¾“å‡ºåˆ°åŒä¸€ä¸ªå˜æ¢åé¦ˆç¼“å†²åŒºçš„æ•°æ®å¿…é¡»æ¥è‡ªåŒä¸€ä¸ªé¡¶ç‚¹æµã€‚</p>

            <div class="subsection-title">1.2 æ•°æ®æ•è·ä¸å­˜å‚¨æœºåˆ¶</div>
            <p>Vulkanå˜æ¢åé¦ˆçš„å®ç°ä¾èµ–äº<strong>SPIR-Vè£…é¥°å™¨ï¼ˆDecorationsï¼‰</strong>æ¥æ ‡è®°éœ€è¦æ•è·çš„è¾“å‡ºå˜é‡ã€‚è¿™äº›è£…é¥°å™¨åŒ…æ‹¬ï¼š</p>
            <ul>
                <li><strong>XfbBuffer</strong>ï¼šæŒ‡å®šè¾“å‡ºå˜é‡åº”è¯¥å†™å…¥åˆ°å“ªä¸ªå˜æ¢åé¦ˆç¼“å†²åŒº</li>
                <li><strong>XfbStride</strong>ï¼šæŒ‡å®šæ¯ä¸ªé¡¶ç‚¹åœ¨å˜æ¢åé¦ˆç¼“å†²åŒºä¸­é¢„ç•™çš„å­—èŠ‚æ•°</li>
                <li><strong>XfbOffset</strong>ï¼šæŒ‡å®šè¾“å‡ºå˜é‡åœ¨é¡¶ç‚¹ä¸­çš„å­—èŠ‚åç§»é‡</li>
            </ul>
            <p>åªæœ‰ä½¿ç”¨XfbOffsetè£…é¥°çš„è¾“å‡ºæ¥å£å˜é‡æˆ–å—æˆå‘˜æ‰èƒ½è¢«å˜æ¢åé¦ˆæ•è·ï¼Œä¸”è¿™äº›å˜é‡å¿…é¡»åŒæ—¶ä½¿ç”¨XfbBufferå’ŒXfbStrideè£…é¥°ï¼Œæˆ–ä»åŒ…å«å®ƒä»¬çš„å—ä¸­ç»§æ‰¿è¿™äº›è£…é¥°ã€‚åœ¨GLSLä¸­ï¼Œè¿™äº›è£…é¥°å™¨å¯¹åº”ä¸ºxfb_bufferã€xfb_strideå’Œxfb_offsetå¸ƒå±€é™å®šç¬¦ã€‚</p>
            <p>åœ¨å®é™…çš„æ•°æ®å­˜å‚¨è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªé¡¶ç‚¹çš„æ‰€æœ‰å€¼ä¼šè¢«è¿ç»­å†™å…¥ç¼“å†²åŒºã€‚å¯¹äºå¤šé¡¶ç‚¹å›¾å…ƒï¼Œ<strong>åŒä¸€é¡¶ç‚¹çš„æ‰€æœ‰å±æ€§ä¼šåœ¨å†™å…¥å…¶ä»–é¡¶ç‚¹çš„å€¼ä¹‹å‰å®Œæˆå†™å…¥</strong>ã€‚å½“ä½¿ç”¨å‡ ä½•ç€è‰²å™¨å‘å¤šä¸ªé¡¶ç‚¹æµå‘å°„é¡¶ç‚¹æ—¶ï¼Œå½“æœ‰è¶³å¤Ÿçš„é¡¶ç‚¹ä¸ºè¾“å‡ºå›¾å…ƒç±»å‹å‘å°„æ—¶ï¼Œå°†ä¸ºæ¯ä¸ªæµç»„è£…å¹¶è¾“å‡ºä¸€ä¸ªå›¾å…ƒã€‚</p>

            <div class="subsection-title">1.3 ç®¡çº¿é‡å®šå‘ä¸æš‚åœæ¢å¤æœºåˆ¶</div>
            <p>Vulkanå˜æ¢åé¦ˆçš„ä¸€ä¸ªå¼ºå¤§ç‰¹æ€§æ˜¯æ”¯æŒ<strong>ç®¡çº¿é‡å®šå‘</strong>ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå˜æ¢åé¦ˆç¼“å†²åŒºæ•è·çš„æ•°æ®æ¥è‡ªé¡¶ç‚¹æµé›¶ï¼Œä½†å¯ä»¥æŒ‡å®šä¸åŒçš„å˜æ¢åé¦ˆç¼“å†²åŒºé‡å®šå‘åˆ°å…‰æ …åŒ–å™¨ã€‚è¿™ç§çµæ´»æ€§å…è®¸å¼€å‘è€…æ ¹æ®å…·ä½“éœ€æ±‚ï¼Œé€‰æ‹©æ€§åœ°å°†æŸäº›æ•°æ®ç»§ç»­æ¸²æŸ“åˆ°å±å¹•ï¼Œè€Œå°†å…¶ä»–æ•°æ®å­˜å‚¨èµ·æ¥ä¾›åç»­å¤„ç†ã€‚</p>
            <p>å¦ä¸€ä¸ªé‡è¦ç‰¹æ€§æ˜¯<strong>æš‚åœå’Œæ¢å¤åŠŸèƒ½</strong>ã€‚å˜æ¢åé¦ˆæ•è·å¯ä»¥é€šè¿‡å­˜å‚¨å’Œæ£€ç´¢å­—èŠ‚è®¡æ•°å™¨æ¥æš‚åœå’Œæ¢å¤ã€‚å½“è°ƒç”¨vkCmdEndTransformFeedbackEXTæ—¶æä¾›æœ‰æ•ˆçš„è®¡æ•°å™¨ç¼“å†²åŒºå¥æŸ„å’Œåç§»é‡ï¼Œå®ç°ä¼šä¿å­˜æ¢å¤ç‚¹ã€‚åç»­è°ƒç”¨vkCmdBeginTransformFeedbackEXTæ—¶ä½¿ç”¨ç›¸åŒçš„å‚æ•°å³å¯ä»è¯¥ä½ç½®æ¢å¤æ•è·ã€‚</p>
            <p>åœ¨æš‚åœå’Œæ¢å¤ä¹‹é—´ï¼Œéœ€è¦ä¸ºè®¡æ•°å™¨ç¼“å†²åŒºè®¾ç½®å†…å­˜å±éšœï¼Œæºè®¿é—®ä¸ºVK_ACCESS_TRANSFORM_FEEDBACK_COUNTER_WRITE_BIT_EXTï¼Œç®¡çº¿é˜¶æ®µä¸ºVK_PIPELINE_STAGE_TRANSFORM_FEEDBACK_BIT_EXTï¼Œç›®æ ‡è®¿é—®ä¸ºVK_ACCESS_TRANSFORM_FEEDBACK_COUNTER_READ_BIT_EXTï¼Œç®¡çº¿é˜¶æ®µä¸ºVK_PIPELINE_STAGE_DRAW_INDIRECT_BITã€‚</p>

            <div class="subsection-title">1.4 ä¸ä¼ ç»Ÿæ¸²æŸ“ç®¡çº¿çš„æœ¬è´¨å·®å¼‚</div>
            <p>Vulkanå˜æ¢åé¦ˆä¸ä¼ ç»Ÿæ¸²æŸ“ç®¡çº¿çš„æœ€å¤§å·®å¼‚åœ¨äºå…¶<strong>çµæ´»æ€§å’Œå¯ç¼–ç¨‹æ€§</strong>ã€‚ä¼ ç»Ÿçš„OpenGLç®¡çº¿æ˜¯å›ºå®šåŠŸèƒ½çš„ï¼Œå¼€å‘è€…åªèƒ½æŒ‰ç…§é¢„è®¾çš„æµç¨‹å¤„ç†æ•°æ®ã€‚è€ŒVulkanæä¾›äº†æ›´åº•å±‚çš„æ§åˆ¶èƒ½åŠ›ï¼Œå…è®¸å¼€å‘è€…ç²¾ç¡®æ§åˆ¶æ•°æ®çš„æµå‘å’Œå¤„ç†æ–¹å¼ã€‚å…·ä½“æ¥è¯´ï¼š</p>
            <ul>
                <li><strong>å¯é€‰æ‹©æ€§</strong>ï¼šå¼€å‘è€…å¯ä»¥é€‰æ‹©æ•è·å“ªäº›é¡¶ç‚¹å±æ€§ï¼Œå¿½ç•¥å“ªäº›å±æ€§</li>
                <li><strong>å¤šæµæ”¯æŒ</strong>ï¼šæ”¯æŒä»å‡ ä½•ç€è‰²å™¨çš„å¤šä¸ªé¡¶ç‚¹æµæ•è·æ•°æ®</li>
                <li><strong>çµæ´»çš„å­˜å‚¨æ–¹å¼</strong>ï¼šå¯ä»¥å°†æ•°æ®å­˜å‚¨åˆ°å¤šä¸ªä¸åŒçš„ç¼“å†²åŒº</li>
                <li><strong>å¯ç¼–ç¨‹çš„è¾“å‡ºæ ¼å¼</strong>ï¼šé€šè¿‡SPIR-Vè£…é¥°å™¨å®Œå…¨æ§åˆ¶è¾“å‡ºæ•°æ®çš„æ ¼å¼å’Œå¸ƒå±€</li>
            </ul>
        </div>
    </details>

    <!-- äºŒã€Vulkan APIå®ç°è¯¦è§£ -->
    <h2><span class="section-tag">äºŒ</span> Vulkan API å®ç°è¯¦è§£</h2>
    <details open>
        <summary><span>æ ¸å¿ƒæ‰©å±• Â· è®¾å¤‡ç‰¹æ€§ Â· ç¼“å†²åŒºç»‘å®š Â· ç€è‰²å™¨è£…é¥°</span></summary>
        <div class="content-body">
            <div class="subsection-title">2.1 æ ¸å¿ƒAPIå‡½æ•°æ¦‚è§ˆ</div>
            <p>Vulkanå˜æ¢åé¦ˆçš„APIå®ç°ä¸»è¦é€šè¿‡<strong>VK_EXT_transform_feedbackæ‰©å±•</strong>æä¾›ï¼Œè¯¥æ‰©å±•åœ¨Vulkan 1.1.88ç‰ˆæœ¬ä¸­æ­£å¼å‘å¸ƒã€‚æ ¸å¿ƒAPIå‡½æ•°åŒ…æ‹¬ï¼š</p>
            <ul>
                <li><strong>vkCmdBindTransformFeedbackBuffersEXT</strong>ï¼šå°†å˜æ¢åé¦ˆç¼“å†²åŒºç»‘å®šåˆ°å‘½ä»¤ç¼“å†²åŒº</li>
                <li><strong>vkCmdBeginTransformFeedbackEXT</strong>ï¼šæ¿€æ´»å˜æ¢åé¦ˆ</li>
                <li><strong>vkCmdEndTransformFeedbackEXT</strong>ï¼šåœç”¨å˜æ¢åé¦ˆ</li>
                <li><strong>vkCmdDrawIndirectByteCountEXT</strong>ï¼šä½¿ç”¨å˜æ¢åé¦ˆè®¡æ•°å™¨è¿›è¡Œé—´æ¥ç»˜åˆ¶</li>
            </ul>

            <div class="subsection-title">2.2 è®¾å¤‡ç‰¹æ€§æŸ¥è¯¢ä¸å¯ç”¨</div>
            <p>é€šè¿‡<strong>VkPhysicalDeviceTransformFeedbackFeaturesEXT</strong>ç»“æ„ä½“æŸ¥è¯¢ï¼š</p>
            <pre><code>typedef struct VkPhysicalDeviceTransformFeedbackFeaturesEXT {
    VkStructureType    sType;
    void*              pNext;
    VkBool32           transformFeedback;
    VkBool32           geometryStreams;
} VkPhysicalDeviceTransformFeedbackFeaturesEXT;</code></pre>
            <p>å…¶ä¸­transformFeedbackè¡¨ç¤ºè®¾å¤‡æ˜¯å¦æ”¯æŒå˜æ¢åé¦ˆï¼ŒgeometryStreamsè¡¨ç¤ºæ˜¯å¦æ”¯æŒä»å‡ ä½•ç€è‰²å™¨å‘å¤šä¸ªé¡¶ç‚¹æµè¾“å‡ºã€‚åœ¨è®¾å¤‡åˆ›å»ºæ—¶éœ€å°†è¯¥ç»“æ„ä½“åŠ å…¥pNexté“¾ã€‚</p>

            <div class="subsection-title">2.3 å˜æ¢åé¦ˆç¼“å†²åŒºç»‘å®š</div>
            <pre><code>void vkCmdBindTransformFeedbackBuffersEXT(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                     firstBinding,
    uint32_t                                     bindingCount,
    const VkBuffer*                             pBuffers,
    const VkDeviceSize*                         pOffsets,
    const VkDeviceSize*                         pSizes);</code></pre>
            <p>å‚æ•°ï¼šfirstBindingä¸ºç¬¬ä¸€ä¸ªç»‘ç‚¹ç´¢å¼•ï¼ŒbindingCountä¸ºæ•°é‡ï¼ŒpBuffersä¸ºç¼“å†²åŒºå¥æŸ„æ•°ç»„ï¼ŒpOffsetsä¸ºåç§»é‡æ•°ç»„ï¼ŒpSizesä¸ºæœ€å¤§æ•è·å­—èŠ‚æ•°ï¼ˆå¯é€‰ï¼‰ã€‚<strong>è°ƒç”¨æ—¶å˜æ¢åé¦ˆå¿…é¡»å¤„äºéæ¿€æ´»çŠ¶æ€</strong>ã€‚</p>

            <div class="subsection-title">2.4 å˜æ¢åé¦ˆæ¿€æ´»ä¸åœç”¨</div>
            <pre><code>void vkCmdBeginTransformFeedbackEXT(..., uint32_t firstCounterBuffer, ...);
void vkCmdEndTransformFeedbackEXT(..., uint32_t firstCounterBuffer, ...);</code></pre>
            <p>å¦‚æœpCounterBuffersä¸ºNULLï¼Œå˜æ¢åé¦ˆä»ç»‘å®šçš„ç¼“å†²åŒºåç§»é‡å¼€å§‹æ•è·ã€‚ç»“æŸæ—¶çš„è®¡æ•°å™¨ç¼“å†²åŒºè®°å½•äº†å½“å‰å­—èŠ‚ä½ç½®ï¼Œå¯ç”¨äºåç»­æ¢å¤æˆ–é—´æ¥ç»˜åˆ¶ã€‚</p>

            <div class="subsection-title">2.5 å®Œæ•´å®ç°æµç¨‹ç¤ºä¾‹</div>
            <pre><code>// 1. æŸ¥è¯¢å¹¶å¯ç”¨è®¾å¤‡ç‰¹æ€§
VkPhysicalDeviceTransformFeedbackFeaturesEXT featuresTF = {};
featuresTF.sType = VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_TRANSFORM_FEEDBACK_FEATURES_EXT;
VkPhysicalDeviceFeatures2 features2 = { .sType = VK_STRUCTURE_TYPE_PHYSICAL_DEVICE_FEATURES_2, .pNext = &featuresTF };
vkGetPhysicalDeviceFeatures2(physicalDevice, &features2);

// 2. åˆ›å»ºå˜æ¢åé¦ˆç¼“å†²åŒºå’Œè®¡æ•°å™¨ç¼“å†²åŒº
VkBuffer transformFeedbackBuffer;  /* åˆ›å»ºä»£ç çœç•¥ */
VkBuffer counterBuffer;            /* åˆ›å»ºä»£ç çœç•¥ */

// 3. è®°å½•å‘½ä»¤
vkCmdBindTransformFeedbackBuffersEXT(commandBuffer, 0, 1, &transformFeedbackBuffer, offsets, sizes);
vkCmdBeginTransformFeedbackEXT(commandBuffer, 0, 0, nullptr, nullptr);
vkCmdDraw(...);
vkCmdEndTransformFeedbackEXT(commandBuffer, 0, 1, &counterBuffer, offsets);</code></pre>

            <div class="subsection-title">2.6 SPIR-Vè£…é¥°å™¨çš„ä½¿ç”¨</div>
            <p>GLSLç¤ºä¾‹ï¼š</p>
            <pre><code>#version 450
#extension GL_EXT_transform_feedback : enable

layout(location = 0) in vec3 position;
layout(xfb_buffer = 0, xfb_stride = 64) out Block {
    vec3 position;
    vec3 velocity;
    float lifetime;
    float age;
} outputBlock;

void main() {
    outputBlock.position = position + velocity * 0.1;
    outputBlock.age = lifetime + 0.1;
    outputBlock.velocity = velocity;
    gl_Position = vec4(position, 1.0);
}</code></pre>
        </div>
    </details>

    <!-- ä¸‰ã€æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ -->
    <h2><span class="section-tag">ä¸‰</span> æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</h2>
    <details open>
        <summary><span>å†…å­˜å¸ƒå±€ Â· å¸¦å®½ä¼˜åŒ– Â· ç¡¬ä»¶ç‰¹æ€§ Â· æœ€ä½³å®è·µ</span></summary>
        <div class="content-body">
            <div class="subsection-title">3.1 å†…å­˜å¸ƒå±€ä¼˜åŒ–</div>
            <p><strong>è¿ç»­çš„é¡ºåºè®¿é—®èƒ½å……åˆ†åˆ©ç”¨é¢„å–æœºåˆ¶å’Œç¼“å­˜è¡Œã€‚</strong> å»ºè®®é‡‡ç”¨å¤§é¡µå†…å­˜ã€åˆç†è®¾ç½®xfb_strideï¼ˆä¾‹å¦‚vec3+floatä½¿ç”¨16å­—èŠ‚å¯¹é½ï¼‰ã€æ‰¹é‡å†…å­˜åˆ†é…ã€å»¶è¿Ÿåˆ†é…ç­–ç•¥ã€‚</p>

            <div class="subsection-title">3.2 æ•°æ®æ ¼å¼ä¸å¸¦å®½ä¼˜åŒ–</div>
            <p>æ ¹æ®æµ‹è¯•ï¼Œ<strong>å˜æ¢åé¦ˆæ¯ç™¾ä¸‡ç²’å­ä½¿ç”¨<span class="perf-num">107.4MB</span>å†…å­˜ï¼Œè€Œè®¡ç®—ç€è‰²å™¨ä»…ä½¿ç”¨<span class="perf-num">15.2MB</span></strong>ã€‚ä¼˜åŒ–ç­–ç•¥ï¼šç²¾ç®€è¾“å‡ºå˜é‡ã€ä½¿ç”¨ç´§å‡‘æ•°æ®ç±»å‹ï¼ˆfloat16ï¼‰ã€åˆ†æ‰¹æ¬¡å¤„ç†ã€‚</p>

            <div class="subsection-title">3.3 ç®¡çº¿ä¼˜åŒ–æŠ€æœ¯</div>
            <ul>
                <li>å¼‚æ­¥è®¡ç®—ï¼šä¸å…¶ä»–æ¸²æŸ“æ“ä½œå¹¶è¡Œæ‰§è¡Œ</li>
                <li>å‡å°‘çŠ¶æ€åˆ‡æ¢ï¼šè®¾è®¡å¯é‡ç”¨çš„å˜æ¢åé¦ˆç®¡çº¿</li>
                <li>ä½¿ç”¨<code>vkCmdDrawIndirectByteCountEXT</code>é¿å…CPUå‚ä¸é¡¶ç‚¹è®¡æ•°</li>
                <li>å¤šé˜Ÿåˆ—å¹¶è¡Œï¼šå˜æ¢åé¦ˆä¸å…‰æ …åŒ–åŒæ—¶è¿›è¡Œ</li>
            </ul>

            <div class="subsection-title">3.4 ç¡¬ä»¶ç‰¹å®šä¼˜åŒ–</div>
            <p><strong>AMD</strong>ï¼šAMDVLKå¯ç”¨GFX9ç‰‡ä¸ŠGSVS ringå¯è·10%æ€§èƒ½æå‡ã€‚<br>
            <strong>NVIDIA</strong>ï¼šå»ºè®®ä½¿ç”¨è®¡ç®—ç€è‰²å™¨æ›¿ä»£å˜æ¢åé¦ˆï¼Œä¸“æœ‰é©±åŠ¨åœ¨æŸäº›åœºæ™¯å¯èƒ½å­˜åœ¨æ€§èƒ½é—®é¢˜ã€‚<br>
            <strong>Intel</strong>ï¼šArcç³»åˆ—Vulkanæ€§èƒ½å‡ºè‰²ï¼Œç€è‰²å™¨å¤„ç†æ¯”NVIDIAå¿«10å€ã€‚</p>

            <div class="subsection-title">3.5 æ€§èƒ½å¯¹æ¯”åˆ†æ</div>
            <ul>
                <li><strong>FPS</strong>ï¼šè®¡ç®—ç€è‰²å™¨æ›´ç¨³å®šï¼Œä¸¤è€…éƒ½æ²¡æœ‰éšç²’å­æ•°çº¿æ€§ä¸‹é™ã€‚</li>
                <li><strong>å†…å­˜</strong>ï¼šå˜æ¢åé¦ˆå†…å­˜ç”¨é‡è¿œé«˜äºè®¡ç®—ç€è‰²å™¨ã€‚</li>
                <li><strong>APIå¼€é”€</strong>ï¼šVulkan Draw Callå¼€é”€é™è‡³OpenGLçš„1/10ï¼ŒCPUåˆ©ç”¨ç‡æå‡300%+ã€‚</li>
            </ul>

            <div class="subsection-title">3.6 æœ€ä½³å®è·µå»ºè®®</div>
            <ul>
                <li>ä¼˜å…ˆä½¿ç”¨è®¡ç®—ç€è‰²å™¨ï¼ˆç°ä»£GPUä¸Šæ›´é«˜æ•ˆï¼‰</li>
                <li>AMD GPUåœ¨å˜æ¢åé¦ˆæ–¹é¢ä¼˜åŒ–è¾ƒå¥½</li>
                <li>ç¡®ä¿æ•°æ®è®¿é—®æ¨¡å¼è¿ç»­</li>
                <li>ä½¿ç”¨VK_EXT_primitives_generated_queryç­‰æ‰©å±•</li>
                <li>ä½¿ç”¨Nsightã€Radeon GPU Profilerç›‘æ§ç“¶é¢ˆ</li>
            </ul>
        </div>
    </details>

    <!-- å››ã€Vulkanä¸OpenGLå¯¹æ¯” -->
    <h2><span class="section-tag">å››</span> å¯¹æ¯” OpenGL å˜æ¢åé¦ˆ</h2>
    <details open>
        <summary><span>è®¾è®¡å“²å­¦ Â· APIå·®å¼‚ Â· æ€§èƒ½ Â· å¼€å‘ä½“éªŒ</span></summary>
        <div class="content-body">
            <div class="subsection-title">4.1 è®¾è®¡ç†å¿µçš„æ ¹æœ¬å·®å¼‚</div>
            <p><strong>OpenGL</strong>ï¼šå›ºå®šç®¡çº¿æ¨¡å‹ï¼Œé«˜çº§æŠ½è±¡ï¼Œå•ä¸€å…¨å±€çŠ¶æ€ï¼Œéšå¼èµ„æºç®¡ç†ã€‚<br>
            <strong>Vulkan</strong>ï¼šçµæ´»ç®¡çº¿æ¨¡å‹ï¼Œå¼€å‘è€…æ§åˆ¶GPUèµ„æºå’Œæ•°æ®æµï¼Œæ— å…¨å±€çŠ¶æ€ï¼Œå¼‚æ­¥æ¸²æŸ“ã€‚</p>

            <div class="subsection-title">4.2 APIæ¥å£çš„å·®å¼‚</div>
            <p>OpenGLä½¿ç”¨glTransformFeedbackVaryingsæŒ‡å®šæ•è·å˜é‡ï¼›Vulkané€šè¿‡SPIR-Vè£…é¥°å™¨ï¼ˆXfbBufferç­‰ï¼‰æ ‡è®°ã€‚Vulkanå¯æŒ‡å®šåç§»é‡å’Œå¤§å°ï¼Œæ›´åº•å±‚ã€‚</p>

            <div class="subsection-title">4.3 åŠŸèƒ½ç‰¹æ€§çš„å¯¹æ¯”</div>
            <p><strong>Vulkanç‰¹æ€§</strong>ï¼šåŸºäºSPIR-Vçµæ´»æ§åˆ¶ã€å¯é€‰ç‰¹æ€§ã€æš‚åœæ¢å¤ã€å¤šæµæ”¯æŒã€ç²¾ç¡®å†…å­˜æ§åˆ¶ã€‚<br>
            <strong>OpenGLç‰¹æ€§</strong>ï¼šæˆç†Ÿç¨³å®šã€ç®€å•æ˜“ç”¨ã€éšå¼ç®¡ç†ã€ç‹¬ç«‹æŸ¥è¯¢æ”¯æŒï¼ˆgl_primitives_generatedï¼‰ã€‚</p>

            <div class="subsection-title">4.4 æ€§èƒ½è¡¨ç°å¯¹æ¯”</div>
            <p>Vulkanä¼˜åŠ¿ï¼šAPIå¼€é”€æä½ï¼Œå¤šçº¿ç¨‹æ€§èƒ½æå‡300%ï¼Œè¡Œä¸ºå¯é¢„æµ‹ï¼Œé©±åŠ¨å¼€é”€å°ã€‚ä½†å†…å­˜ä½¿ç”¨é«˜äºè®¡ç®—ç€è‰²å™¨ï¼Œé©±åŠ¨ä¼˜åŒ–å› å‚å•†è€Œå¼‚ã€‚</p>

            <div class="subsection-title">4.5 å®ç°æ–¹å¼çš„æ ¹æœ¬å·®å¼‚</div>
            <p>OpenGLä½œä¸ºå›ºå®šåŠŸèƒ½ç®¡çº¿éƒ¨åˆ†ï¼Œé©±åŠ¨ç®¡ç†ç»†èŠ‚ï¼›Vulkanä½œä¸ºæ‰©å±•ï¼Œä½¿ç”¨é€šç”¨VkBufferï¼Œåº”ç”¨å®Œå…¨è´Ÿè´£åŒæ­¥ä¸å†…å­˜ã€‚</p>

            <div class="subsection-title">4.6 å¼€å‘ä½“éªŒå¯¹æ¯”</div>
            <p>OpenGLå­¦ä¹ æ›²çº¿å¹³ç¼“ï¼Œè°ƒè¯•ç®€å•ï¼›Vulkanæ§åˆ¶åŠ›å¼ºï¼Œä½†å­¦ä¹ é™¡å³­ï¼Œéœ€å¤„ç†åº•å±‚ç»†èŠ‚ã€‚</p>

            <div class="subsection-title">4.7 å…¼å®¹æ€§ä¸å‘å±•è¶‹åŠ¿</div>
            <p>OpenGLå¹¿æ³›å…¼å®¹ï¼›Vulkanæ”¯æŒWindows/Linux/Androidï¼ŒiOSéœ€MoltenVKã€‚å˜æ¢åé¦ˆæ‰©å±•ä¸»è¦æ»¡è¶³DXVK/VKD3Dè½¬æ¢å±‚éœ€æ±‚ï¼Œæœªæ¥å¯èƒ½ä¸ä¼šæ ¸å¿ƒåŒ–ã€‚</p>
        </div>
    </details>

    <!-- äº”ã€å¹³å°æ”¯æŒä¸ç‰ˆæœ¬ç‰¹æ€§ -->
    <h2><span class="section-tag">äº”</span> å¹³å°æ”¯æŒä¸ç‰ˆæœ¬ç‰¹æ€§</h2>
    <details open>
        <summary><span>Windows Â· Linux Â· Android Â· å‚å•†æ‰©å±• Â· æœªæ¥è¶‹åŠ¿</span></summary>
        <div class="content-body">
            <div class="subsection-title">5.1 ä¸»è¦æ“ä½œç³»ç»Ÿå¹³å°æ”¯æŒæƒ…å†µ</div>
            <ul>
                <li><strong>Windows</strong>ï¼šåŸç”Ÿæ”¯æŒ7~11ï¼ŒNVIDIA/AMD/Intelé©±åŠ¨å®Œå–„ã€‚</li>
                <li><strong>Linux</strong>ï¼šNVIDIAä¸“æœ‰é©±åŠ¨ï¼ŒAMD RADV/AMDVLKï¼ŒIntelå¼€æºé©±åŠ¨ï¼Œæ ‘è“æ´¾OSæ”¯æŒV3DVã€‚</li>
                <li><strong>Android</strong>ï¼š7.0+æ”¯æŒï¼Œè¶…è¿‡85%æ´»è·ƒè®¾å¤‡æ”¯æŒVulkanï¼ŒAndroid 10+ 64ä½è®¾å¤‡å¿…é¡»æ”¯æŒ1.1ã€‚</li>
                <li><strong>macOS/iOS</strong>ï¼šé€šè¿‡MoltenVKè½¬æ¢å±‚è¿è¡Œã€‚</li>
                <li><strong>Nintendo Switch</strong>ï¼šåŸç”Ÿæ”¯æŒVulkanã€‚</li>
            </ul>

            <div class="subsection-title">5.2 Vulkanç‰ˆæœ¬æ¼”è¿›ä¸­çš„å˜æ¢åé¦ˆ</div>
            <p>Vulkan 1.0æ— å˜æ¢åé¦ˆï¼›1.1å¼•å…¥VK_EXT_transform_feedbackï¼›1.2/1.3ä»ä¸ºæ‰©å±•ï¼Œæœªçº³å…¥æ ¸å¿ƒã€‚VK_EXT_primitives_generated_queryæä¾›ç±»ä¼¼OpenGLçš„æŸ¥è¯¢ã€‚</p>

            <div class="subsection-title">5.3 å‚å•†ç‰¹å®šæ‰©å±•ä¸ä¼˜åŒ–</div>
            <p><strong>NVIDIA</strong>ï¼šæ”¯æŒæ‰©å±•ï¼Œä½†é©±åŠ¨åœ¨æŸäº›åœºæ™¯éœ€ä¼˜åŒ–ã€‚<strong>AMD</strong>ï¼šRADVå¼€æºï¼ŒAMDVLKä¸“æœ‰ä¼˜åŒ–ï¼ŒGFX9 GSVS ringæå‡10%ã€‚<strong>Intel</strong>ï¼šArcç³»åˆ—Vulkanè¡¨ç°ä¼˜å¼‚ã€‚<strong>ARM</strong>ï¼šå‚ä¸æ‰©å±•å¼€å‘ï¼Œä¼˜åŒ–ç§»åŠ¨åŠŸè€—ã€‚</p>

            <div class="subsection-title">5.4 ç‰ˆæœ¬å…¼å®¹æ€§æ³¨æ„äº‹é¡¹</div>
            <p>ä¾èµ–VK_KHR_get_physical_device_properties2å®ä¾‹æ‰©å±•ï¼›å˜æ¢åé¦ˆä¸èƒ½åœ¨å¯ç”¨å¤šè§†å›¾çš„æ¸²æŸ“é€šé“ä¸­æ¿€æ´»ï¼›æŸäº›å‘½ä»¤éœ€åœ¨æ¸²æŸ“é€šé“å†…éƒ¨è°ƒç”¨ã€‚</p>

            <div class="subsection-title">5.5 æœªæ¥å‘å±•è¶‹åŠ¿</div>
            <p>å¤šå‚å•†EXTæ‰©å±•æŒç»­å¼€å‘ä»¥æ»¡è¶³è½¬æ¢å±‚éœ€æ±‚ï¼›ç¡¬ä»¶æŒç»­ä¼˜åŒ–ï¼›éšç€è®¡ç®—ç€è‰²å™¨æ™®åŠï¼Œå˜æ¢åé¦ˆä½¿ç”¨åœºæ™¯å¯èƒ½å‡å°‘ï¼Œä½†åœ¨ç²’å­ã€ç‰©ç†æ¨¡æ‹Ÿä¸­ä»æœ‰ä¼˜åŠ¿ã€‚</p>

            <div class="subsection-title">5.6 å¼€å‘å»ºè®®</div>
            <ul>
                <li>ç›®æ ‡iOS/macOSç”¨MoltenVKæ³¨æ„æ€§èƒ½æŸå¤±</li>
                <li>Androidä¼˜å…ˆVulkan1.1+</li>
                <li>Windows/Linuxå¯å……åˆ†å‘æŒ¥å˜æ¢åé¦ˆåŠŸèƒ½</li>
                <li>å…³æ³¨é©±åŠ¨æ›´æ–°ï¼Œåˆ©ç”¨å‚å•†å·¥å…·åˆ†æ</li>
            </ul>
        </div>
    </details>

    <!-- ç»“è¯­ -->
    <h2 style="border-bottom-color: #a5b4fc;">ğŸ“Œ ç»“è¯­</h2>
    <div class="quote-note" style="background: #f0f4fe;">
        <p>é€šè¿‡å¯¹Vulkanå˜æ¢åé¦ˆçš„å…¨é¢åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ä½†ä½¿ç”¨å¤æ‚çš„æŠ€æœ¯ã€‚å®ƒåœ¨Vulkanå›¾å½¢ç®¡çº¿ä¸­æ‰®æ¼”ç€æ•°æ®åˆ†æµå™¨çš„è§’è‰²ï¼Œå…è®¸å¼€å‘è€…çµæ´»åœ°æ•è·å’Œé‡ç”¨ç€è‰²å™¨è¾“å‡ºæ•°æ®ã€‚ä»ç†è®ºåŸºç¡€åˆ°APIå®ç°ï¼Œä»æ€§èƒ½ä¼˜åŒ–åˆ°å¹³å°å·®å¼‚ï¼ŒVulkanå˜æ¢åé¦ˆä½“ç°äº†ç°ä»£å›¾å½¢APIçš„çµæ´»æ€§ä¸æ§åˆ¶åŠ›ã€‚è™½ç„¶è®¡ç®—ç€è‰²å™¨åœ¨æŸäº›åœºæ™¯ä¸‹æ›´å…·ä¼˜åŠ¿ï¼Œä½†å˜æ¢åé¦ˆåœ¨å…¼å®¹æ€§ã€ç‰¹å®šç”¨ä¾‹ä¸­ä»ä¸å¯æ›¿ä»£ã€‚æ·±å…¥ç†è§£å…¶åŸç†å¹¶åˆç†ä¼˜åŒ–ï¼Œå°†ä¸ºå›¾å½¢åº”ç”¨å¸¦æ¥æ–°çš„å¯èƒ½ã€‚</p>
    </div>

    <!-- å†…å®¹ç”Ÿæˆæ ‡è®° -->
    <footer>
        å†…å®¹æ·±åº¦æ•´ç† Â· æŠ€æœ¯é™æ€é¡µ Â· åŸºäºAIç”Ÿæˆå†…å®¹æ„å»º  |  æ‰€æœ‰åˆ†æä¿ç•™ç‰ˆæƒ
    </footer>
</div>
</body>
</html>